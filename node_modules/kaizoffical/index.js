function help(client, message, title, color) {
    const { MessageEmbed } = require('discord.js');
    const { stripIndent } = require('common-tags');
        const embed = new MessageEmbed()
            .setColor(color)
            .setTitle(title)
        
        const commands = (category) => {
            return client.commands
                .filter(cmd => cmd.category === category)
                .map(cmd => `\`${cmd.name}\``)
                .join(" ")
        }
    
        const info = client.categories
            .map(cat => stripIndent`**${cat[0].toUpperCase() + cat.slice(1)}**\n${commands(cat)}`)
            .reduce((string, category) => string + "\n" + category);
    
        return message.channel.send(embed.setDescription(info))
}

function serverinfo(title, name, id, owner, member, bot, user, role, emoji, text, voice, news, category, footer, message) {
    const { MessageEmbed } = require('discord.js')
    const embed = new MessageEmbed()
    .setTitle(title)
    .setThumbnail(message.guild.iconURL())
    .addField(name, message.guild.name, true)
    .addField(id, message.guild.id, true)
    .addField(owner, message.guild.owner, true)
    .addField(member, message.guild.members.cache.size, true)
    .addField(bot, message.guild.members.cache.filter(m => m.user.bot).size, true)
    .addField(user, message.guild.members.cache.filter(m => !m.user.bot).size, true)
    .addField(role, message.guild.roles.cache.size, true)
    .addField(emoji, message.guild.emojis.cache.size, true)
    .addField(text, message.guild.channels.cache.filter(c => c.type === 'text').size, true)
    .addField(voice, message.guild.channels.cache.filter(c => c.type === 'voice').size, true)
    .addField(news, message.guild.channels.cache.filter(c => c.type === 'news').size, true)
    .addField(category, message.guild.channels.cache.filter(c => c.type === 'category').size, true)
    .setFooter(footer, message.guild.iconURL(), true)
    message.channel.send(embed)
}

module.exports = {
    help,
    serverinfo
}